# Kaizala-API
## Python Snipet to send message using Kaizala API

### Basic Requirements and Operations:

##### To Send SMS, the process executes in 2 Steps, In First Steps We will generate a access token using following 4 info
##### what we have to generate from https://manage.kaiza.la/
	1. Connector
	2. Connector Token [Belong to connector]
	3. applicationId [Belong to connector]
	4. applicationSecret [Belong to connector]

#### While we will have AccessToken, We can send SMS using following 3 object
	     1. EndPoinUrl
	     2. Token (generated by using connector token)
	     3. groupId [what can be fetched from, https://manage.kaiza.la/Group/Conversation/groupId

###### Calling Following API will send msg to grop
      URL ["https://{endpoint-url}/v1/groups/{group-id}/messages"]

##### PythonSnip:: Modify all veriable as yours

```
#Ref:https://docs.microsoft.com/en-us/rest/kaizala/

import requests
import json

def SendSMS_Kaizila(msg):
    #Section 1
	url_AccToken = "https://api.kaiza.la/v1/accessToken"
    body1 = ""
    headers = {
	'applicationId':"qqqyyyy-xxxx-xxxx-1111-06bc000001q1",
	'applicationSecret':"0101010101",
	'refreshToken':"Paste the user Token from connector"
	'cache-control':"no-cache"
        }
    response = requests.request("GET", url_AccToken, data=body1, headers=headers)
    #section 2
    JsonData = json.loads(response.text)
    Tokn = JsonData["accessToken"]
    EndPoinUrl = JsonData["endpointUrl"]
    groupId = "xxx73ifsafxxxxxxyyyxxxxxx" 
    Url_SendSMS = EndPoinUrl + "v1/groups/"+ groupId +"/messages"
    hd = {
        'accessToken': Tokn
        }
    bdy = {
        "message": msg,
        "sendToAllSubscribers" : "True"
        }
    resp = requests.request("POST", Url_SendSMS, data=bdy, headers=hd)
    print(resp.text)

txt = 'Sending SMS Successfull using Kaizila API' + '\n' + "new Line using '\ n \n'" + "Sign & Test is OK"
SendSMS_Kaizila(txt)

#if Opertion Successful then output will be as following
#print output = {"referenceId":"0de2f027-bf2b-407d-903e-a3fba0ee33b1"}
```
